let volume30d = 0;
let volumeSinceJul4 = 0;

for (let i = 1; i < dailyLog.length; i++) {
  const prev = dailyLog[i - 1];
  const curr = dailyLog[i];
  const burned = prev.totalSupply - curr.totalSupply;
  const estVolume = burned * 50;

  const logDate = new Date(curr.date);
  const now = new Date();
  const daysAgo = (now - logDate) / (1000 * 60 * 60 * 24);

  if (daysAgo <= 30) volume30d += estVolume;
  if (logDate >= new Date("2025-07-04")) volumeSinceJul4 += estVolume;

  const row = `
    <tr>
      <td>${curr.date}</td>
      <td>${formatter(curr.totalSupply)}</td>
      <td>${formatter(burned)}</td>
      <td>${formatter(estVolume)}</td>
      <td>$${formatter(curr.price || 0)}</td>
      <td>$${formatter(curr.liquidityUSD || 0)}</td>
    </tr>`;
  table.innerHTML += row;
}

document.getElementById("volume30d").textContent = formatter(volume30d) + " SUPDOG";
document.getElementById("burnSinceJul4").textContent = formatter(volumeSinceJul4) + " SUPDOG";
